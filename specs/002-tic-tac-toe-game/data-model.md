# 資料模型：井字遊戲

**日期**: 2025年10月21日
**功能**: 井字遊戲

此文件定義了「井字遊戲」功能所涉及的核心資料實體。由於此專案為純前端應用，這些實體將存在於 JavaScript 的記憶體中。

## 核心實體

### 1. 遊戲棋盤 (GameBoard)

代表 3x3 的遊戲區域。

-   **欄位**:
    -   `cells` (Array[9]): 一個長度為 9 的陣列，代表 9 個格子。每個元素可以是：
        -   `null` (代表空格)
        -   `'X'` (代表玩家 X 的標記)
        -   `'O'` (代表玩家 O 的標記)
-   **狀態轉換**:
    -   格子的狀態從 `null` 變為 `'X'` 或 `'O'`。
    -   一旦格子被賦值，其狀態在單局遊戲中不可再更改。

### 2. 玩家 (Player)

代表遊戲的參與者。

-   **欄位**:
    -   `currentPlayer` (String): 一個字串，代表當前輪到的玩家。其值為 `'X'` 或 `'O'`。
-   **狀態轉換**:
    -   在每次有效點擊後，`currentPlayer` 的值在 `'X'` 和 `'O'` 之間切換。
    -   遊戲開始時，預設為 `'X'`。

### 3. 遊戲狀態 (GameState)

代表遊戲的整體情況。

-   **欄位**:
    -   `status` (String): 一個字串，代表遊戲的當前狀態。可以是：
        -   `'playing'` (進行中)
        -   `'X_WINS'` (玩家 X 獲勝)
        -   `'O_WINS'` (玩家 O 獲勝)
        -   `'DRAW'` (平手)
-   **狀態轉換**:
    -   初始狀態為 `'playing'`。
    -   當 `GameBoard` 中出現勝利條件時，狀態變為 `'X_WINS'` 或 `'O_WINS'`。
    -   當 `GameBoard` 中所有格子都填滿且無人獲勝時，狀態變為 `'DRAW'`。
    -   當狀態不為 `'playing'` 時，遊戲邏輯應鎖定，不允許玩家再下棋。
    -   點擊「重新開始」按鈕後，狀態重設為 `'playing'`。

## 實體關係圖

```
+-----------------+      +-----------------+
|   GameState     |      |     Player      |
|-----------------|      |-----------------|
| - status: String|----->| - currentPlayer |
+-----------------+      +-----------------+
        |
        |
        v
+-----------------+
|   GameBoard     |
|-----------------|
| - cells: Array  |
+-----------------+
```

-   `GameState` 決定了 `Player` 是否可以行動。
-   `Player` 的行動會改變 `GameBoard` 的狀態。
-   `GameBoard` 的狀態變化會觸發 `GameState` 的更新（例如，從 `playing` 變為 `X_WINS`）。
