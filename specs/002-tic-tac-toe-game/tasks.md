# 任務清單：井字遊戲

**功能**: 井字遊戲
**日期**: 2025年10月21日

## 實作策略

此計畫將遵循以使用者故事為中心的增量交付模型。我們將從 MVP（最小可行產品）開始，即使用者故事 1，它包含了核心的遊戲循環。隨後，我們將依序實作其他使用者故事，每個故事都代表一個可獨立測試和交付的功能增量。

**MVP 範圍**: 僅包含使用者故事 1 (US1) 的所有任務。完成後，我們將擁有一個可以讓兩位玩家輪流下棋的基礎遊戲。

---

## 第 1 階段：專案設定

此階段的任務是建立專案的基本檔案結構。

- [ ] T001 建立專案根目錄結構，包含 `css/`, `js/` 資料夾
- [ ] T002 [P] 在根目錄建立 `index.html` 檔案
- [ ] T003 [P] 在 `css/` 目錄下建立 `style.css` 檔案
- [ ] T004 [P] 在 `js/` 目錄下建立 `script.js` 檔案
- [ ] T005 [P] 在根目錄建立 `README.md` 檔案

---

## 第 2 階段：基礎實作

此階段專注於建立所有使用者故事都依賴的核心 DOM 結構和基本樣式。

- [ ] T006 在 `index.html` 中設定基本的 HTML 結構，包含 head 和 body
- [ ] T007 [P] 在 `index.html` 中連結 `style.css` 和 `script.js`
- [ ] T008 [P] 在 `index.html` 中建立遊戲主容器、標題、遊戲狀態顯示區和 3x3 棋盤格的 DOM 結構
- [ ] T009 在 `style.css` 中為棋盤和格子添加基本樣式，使其視覺化呈現

---

## 第 3 階段：使用者故事 1 - 進行一局完整的遊戲 (P1)

**目標**: 兩位玩家可以輪流在 3x3 的棋盤格上下棋。

**獨立測試標準**:
- 載入 `index.html` 後，玩家 X 可以點擊一個空格，該格顯示 'X'。
- 接著，玩家 O 可以點擊另一個空格，該格顯示 'O'。
- 點擊已被佔用的格子不會有任何反應。
- 遊戲狀態顯示區能正確反映當前輪到的玩家。

### 任務

- [ ] T010 [US1] 在 `script.js` 中初始化遊戲狀態變數（棋盤陣列、當前玩家、遊戲是否進行中）
- [ ] T011 [US1] 在 `script.js` 中為所有棋盤格添加點擊事件監聽器
- [ ] T012 [US1] 實作處理玩家點擊的函式 `handleCellClick` in `script.js`
- [ ] T013 [US1] 在 `handleCellClick` 中，檢查並更新棋盤狀態 in `script.js`
- [ ] T014 [US1] 在 `handleCellClick` 中，更新 DOM 以顯示 'X' 或 'O' in `script.js`
- [ ] T015 [US1] 在 `handleCellClick` 中，切換玩家順序 in `script.js`
- [ ] T016 [US1] 更新遊戲狀態顯示區的 UI in `script.js`

---

## 第 4 階段：使用者故事 2 - 顯示遊戲結果 (P2)

**目標**: 遊戲結束時（無論是分出勝負或平手），系統應清楚地向玩家顯示結果。

**獨立測試標準**:
- 當任一方玩家達成三子連線時，遊戲狀態顯示區會顯示勝利訊息。
- 當所有格子被填滿且無人獲勝時，遊戲狀態顯示區會顯示平手訊息。
- 遊戲結束後，無法再點擊任何格子下棋。

### 任務

- [ ] T017 [US2] 在 `script.js` 中實作檢查勝利條件的函式 `checkWin`
- [ ] T018 [US2] 在 `script.js` 中實作檢查平手條件的函式 `checkDraw`
- [ ] T019 [US2] 在 `handleCellClick` 中，每次下棋後呼叫 `checkWin` 和 `checkDraw` in `script.js`
- [ ] T020 [US2] 當遊戲結束時，更新遊戲狀態變數以停止遊戲 in `script.js`
- [ ] T021 [US2] 當遊戲結束時，更新遊戲狀態顯示區的 UI 以顯示最終結果 in `script.js`

---

## 第 5 階段：使用者故事 3 - 重新開始新遊戲 (P3)

**目標**: 玩家在遊戲中或遊戲結束後，可以選擇重新開始一局新遊戲。

**獨立測試標準**:
- 點擊「重新開始」按鈕後，棋盤上的所有 'X' 和 'O' 都會被清除。
- 遊戲狀態重設，輪到玩家 X 開始。
- 遊戲狀態顯示區更新為初始狀態。

### 任務

- [ ] T022 [US3] 在 `index.html` 中新增一個「重新開始」按鈕
- [ ] T023 [US3] 在 `style.css` 中為「重新開始」按鈕添加樣式
- [ ] T024 [US3] 在 `script.js` 中為「重新開始」按鈕添加點擊事件監聽器
- [ ] T025 [US3] 實作重設遊戲狀態的函式 `restartGame` in `script.js`
- [ ] T026 [US3] 在 `restartGame` 中，清空棋盤陣列、重設玩家和遊戲狀態變數 in `script.js`
- [ ] T027 [US3] 在 `restartGame` 中，更新 DOM 以清除棋盤上的所有標記和狀態訊息 in `script.js`

---

## 第 6 階段：潤飾與最終化

此階段處理跨功能性的最終調整。

- [ ] T028 在 `style.css` 中調整最終的顏色、字體和佈局，提升美感
- [ ] T029 在 `README.md` 中撰寫專案的最終說明、使用方式和開發細節
- [ ] T030 在 `index.html` 的 `<title>` 和其他地方加入正體中文的元資訊
- [ ] T031 進行最終的手動測試，確保所有功能符合 `quickstart.md` 中的驗收情境

---

## 相依性圖

```
[Setup] -> [Foundation] -> [US1] -> [US2] -> [US3] -> [Polish]
```

- 每個階段都依賴於前一個階段的完成。
- 使用者故事 (US) 依優先度順序排列，形成一個清晰的開發路徑。

## 平行執行範例

- **階段 1 (專案設定)**:
  - `T002`, `T003`, `T004`, `T005` 可以同時進行，因為它們是在不同位置建立獨立的檔案。
- **階段 2 (基礎實作)**:
  - `T007` 和 `T008` 可以部分平行，一個處理 HTML 結構，另一個處理檔案連結。
- **使用者故事階段**:
  - 在每個使用者故事內部，任務大多是循序的。然而，UI 樣式調整（CSS）通常可以與邏輯實作（JS）稍微平行進行。例如，在 `US3` 中，`T023` (樣式) 可以與 `T024` (事件監聽器) 同時進行。
